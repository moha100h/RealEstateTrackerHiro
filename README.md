<div dir="rtl">

# سیستم هوشمند مدیریت املاک هیرو

سیستم مدیریت املاک هیرو یک نرم‌افزار تحت وب و کاملاً فارسی است که برای مدیریت املاک و مستغلات طراحی شده است. این سیستم با استفاده از فریم‌ورک جنگو (Django) پیاده‌سازی شده و دارای رابط کاربری RTL فارسی، امکانات مدیریت املاک، جستجوی پیشرفته، داشبورد و سیستم پشتیبان‌گیری است.

## ویژگی‌های سیستم

- **احراز هویت و مدیریت دسترسی‌ها**:
  - سطوح دسترسی متفاوت برای کاربران (مدیر ارشد، مدیر املاک، کارشناس فروش)
  - فرم ورود فارسی و RTL
  - سیستم قفل حساب پس از چند تلاش ناموفق (محافظت در برابر حملات Brute Force)
  - کنترل دقیق دسترسی‌ها بر اساس نقش کاربر

- **مدیریت املاک**:
  - ثبت و مدیریت املاک با اطلاعات کامل
  - تولید کد یکتا برای هر ملک به صورت خودکار
  - تعیین وضعیت ملک (موجود، فروخته شده، اجاره داده شده و...)
  - مدیریت تصاویر املاک
  - نمایش اطلاعات ملک به صورت کارت‌های گرافیکی جذاب

- **جستجو و فیلتر پیشرفته**:
  - جستجو بر اساس کد ملک، آدرس، قیمت، متراژ و...
  - فیلتر بر اساس نوع معامله، نوع ملک و وضعیت
  - نمایش نتایج جستجو به صورت بلادرنگ

- **سیستم پشتیبان‌گیری و بازیابی**:
  - امکان تهیه فایل پشتیبان از کل اطلاعات
  - بازیابی اطلاعات از فایل پشتیبان
  - تاریخچه کامل پشتیبان‌گیری‌ها
  - رابط کاربری گرافیکی برای مدیریت پشتیبان‌ها

- **تنظیمات سیستم**:
  - بیش از 40 تنظیم مختلف برای شخصی‌سازی سیستم
  - تغییر عنوان سایت
  - آپلود لوگو و آیکون‌های سفارشی
  - تغییر فونت (وزیر یا ایران‌سنس)
  - تعیین تصویر پیش‌فرض برای املاک
  - تنظیمات شبکه‌های اجتماعی، درگاه پرداخت و تحلیل آماری

- **داشبورد مدیریتی**:
  - نمایش آمار و ارقام کلیدی
  - نمودارهای پویا و تعاملی
  - کارت‌های آماری با انیمیشن
  - گزارش‌های وضعیت فروش، اجاره و درآمد

- **امنیت پیشرفته**:
  - محافظت در برابر حملات XSS, CSRF, SQL Injection
  - محدودیت نرخ درخواست برای مقابله با حملات DDoS
  - قفل حساب کاربری پس از چند تلاش ناموفق
  - امنیت نشست‌ها و محافظت در برابر Session Hijacking
  - سیاست امنیت محتوا (CSP)
  - ثبت وقایع امنیتی و هشدار تخلفات
  - داشبورد امنیتی برای مدیران سیستم

- **رابط کاربری واکنش‌گرا**:
  - طراحی متناسب با دستگاه‌های مختلف (موبایل، تبلت، دسکتاپ)
  - انیمیشن‌های جذاب و روان
  - رابط RTL کاملاً فارسی
  - تجربه کاربری بهینه شده

## نیازمندی‌ها

- Python 3.8+ 
- Django 5.2+
- PostgreSQL (برای محیط تولید)
- SQLite (برای محیط توسعه)
- پکیج‌های زیر:
  - django-filter
  - django-jalali
  - jdatetime
  - Pillow
  - openpyxl
  - psycopg2-binary
  - python-magic
  - xlsxwriter
  - dj-database-url

## نصب و راه‌اندازی

### روش اول: نصب روی سرور محلی

1. **کلون پروژه**:
   ```bash
   git clone https://github.com/yourusername/hiro-estate.git
   cd hiro-estate
   ```

2. **نصب وابستگی‌ها**:
   ```bash
   pip install -r requirements.txt
   ```

3. **اجرای مهاجرت‌های پایگاه داده**:
   ```bash
   python manage.py migrate
   ```

4. **ایجاد کاربر مدیر**:
   ```bash
   python manage.py create_superuser
   ```

5. **اضافه کردن داده‌های اولیه**:
   ```bash
   python manage.py create_initial_data
   ```

6. **اجرای سرور توسعه**:
   ```bash
   python manage.py runserver
   ```

### روش دوم: استفاده از Docker

1. **ساخت و اجرای کانتینر**:
   ```bash
   docker-compose up -d
   ```

2. **ایجاد کاربر مدیر در داخل کانتینر**:
   ```bash
   docker-compose exec web python manage.py create_superuser
   ```

## ساختار پروژه

```
hiro_estate/
├── accounts/          # ماژول مدیریت کاربران و احراز هویت
├── config/            # ماژول تنظیمات و پیکربندی سیستم
├── dashboard/         # ماژول داشبورد مدیریتی
├── hiro_estate/       # تنظیمات اصلی Django
├── logs/              # فایل‌های لاگ سیستم و امنیتی
├── media/             # فایل‌های آپلود شده
├── properties/        # ماژول مدیریت املاک
├── static/            # فایل‌های استاتیک (CSS, JavaScript)
└── templates/         # قالب‌های HTML
```

## ویژگی‌های امنیتی

- **میدل‌ویرهای امنیتی سفارشی**:
  - RateLimitMiddleware: محدودیت نرخ درخواست
  - EnhancedSecurityMiddleware: محافظت در برابر انواع تزریق
  - AccountLockoutMiddleware: قفل حساب پس از تلاش‌های ناموفق
  - ContentSecurityPolicyMiddleware: سیاست امنیت محتوا
  - SessionSecurityMiddleware: امنیت نشست‌ها

- **امنیت پایگاه داده**:
  - محافظت در برابر SQL Injection
  - Connection pooling و مدیریت اتصالات
  - پشتیبان‌گیری خودکار و دوره‌ای

- **امنیت لایه وب**:
  - هدرهای امنیتی HTTP
  - دیوار آتش لایه وب برای تشخیص و مسدود کردن حملات
  - ردیابی و ثبت وقایع امنیتی

## راهنمای استفاده

### ورود به سیستم

برای ورود به سیستم، به آدرس `/accounts/login/` مراجعه کنید. لطفاً از اطلاعات حساب کاربری که مدیر سیستم برای شما تعریف کرده استفاده نمایید. پس از اولین ورود، توصیه می‌شود رمز عبور خود را تغییر دهید.

### مدیریت املاک

برای مدیریت املاک به بخش "املاک" در منوی اصلی بروید. در این بخش می‌توانید:
- املاک جدید اضافه کنید
- املاک موجود را ویرایش کنید
- تصاویر املاک را مدیریت کنید
- وضعیت املاک را تغییر دهید

### تنظیمات سیستم

برای تغییر تنظیمات سیستم، به بخش "تنظیمات" در منوی ادمین بروید. این بخش شامل:
- تنظیمات عمومی
- تنظیمات ظاهری
- تنظیمات امنیتی
- تنظیمات پشتیبان‌گیری

## مشارکت در توسعه

از مشارکت شما در توسعه این پروژه استقبال می‌کنیم. لطفاً برای مشارکت:

1. پروژه را fork کنید
2. یک branch جدید ایجاد کنید (`git checkout -b feature/amazing-feature`)
3. تغییرات خود را commit کنید (`git commit -m 'Add some amazing feature'`)
4. به ریپوزیتوری خود push کنید (`git push origin feature/amazing-feature`)
5. یک Pull Request ایجاد کنید

## مجوز

این پروژه تحت مجوز MIT منتشر شده است. برای جزئیات بیشتر، فایل `LICENSE` را مطالعه کنید.

## تماس با ما

برای هرگونه سوال یا پیشنهاد، لطفاً با ما از طریق ایمیل [example@domain.com](mailto:example@domain.com) در تماس باشید.